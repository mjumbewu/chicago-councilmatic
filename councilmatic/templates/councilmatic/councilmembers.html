{% extends "base.html" %}
{% load url from future %}
{% load i18n %}
{% load compress %}

{% block load_early %}
{% endblock %}

{% block content %}
<div class="councilmembers dashboard">
  <div class='row'>
    <div class='offset1 span10'>
      <div class="content">
        <h1>
          Legislative sponsors
        </h1>
        <p>Every piece of legislation submitted to City Council must have at least one sponsor. <br />Sponsors include all 50 <a href='#aldermen'>Chicago Aldermen</a>, the <a href='#other'>Mayor and the City Clerk</a>.</p>
        <hr />

        <h2 id='aldermen'>Aldermen</h2>
        <table class='table'>
          <thead>
            <tr>
              <th></th>
              <th><span>Name</span></th>
              <th><span>Title</span></th>
              <th><span>Recent legislation</span></th>
              <th><span>All legislation</span></th>
            </tr>
          </thead>
          <tbody>
            {% for councilmember in councilmembers %}
              {% include "councilmatic/partials/councilmember_list.html" %}
            {% endfor %}
          </tbody>
        </table>

        <h2 id='other'>Other</h2>
        <table class='table'>
          <thead>
            <tr>
              <th></th>
              <th><span>Name</span></th>
              <th><span>Title</span></th>
              <th><span>Recent legislation</span></th>
              <th><span>All legislation</span></th>
            </tr>
          </thead>
          <tbody>
            {% for councilmember in other_councilmembers %}
              {% include "councilmatic/partials/councilmember_list.html" %}
            {% endfor %}
          </tbody>
        </table>

        <h2 id='former'>Former</h2>
        <table class='table'>
          <thead>
            <tr>
              <th></th>
              <th><span>Name</span></th>
              <th><span>Title</span></th>
              <th><span>Recent legislation</span></th>
              <th><span>All legislation</span></th>
            </tr>
          </thead>
          <tbody>
            {% for councilmember in former_councilmembers %}
              {% include "councilmatic/partials/councilmember_list.html" %}
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    {% endblock %}
  </div>
</div>

{% block load_late %}
  <script src="{{ STATIC_URL }}libs/jquery.dataTables.min.js"></script>
  <script src="{{ STATIC_URL }}libs/jquery.dataTables.sorting.js"></script>

  <script>
    // initialize datatables
    $('.table').dataTable( {
        "aaSorting": [ [3,'desc'], [4,'desc'] ],
        "aoColumns": [
            { "bSortable": false },
            null,
            null,
            { "sType": "num-html" },
            { "sType": "num-html" }
        ],
        "bFilter": false,
        "bInfo": false,
        "bPaginate": false,

    } );
  </script>
{% endblock %}

